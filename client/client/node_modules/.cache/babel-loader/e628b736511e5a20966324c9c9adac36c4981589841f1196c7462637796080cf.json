{"ast":null,"code":"import React,{Fragment,useEffect,useState}from'react';import EditTodo from'./EditTodo';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ListTodos=()=>{const[todos,setTodos]=useState([]);//delete todo function\nconst deleteTodo=async id=>{try{const deleteTodo=await fetch(`http://localhost:2000/todos/${id}`,{method:\"DELETE\"});setTodos(todos.filter(todo=>todo.todo_id!==id));}catch(err){console.error(err.message);}};//\nconst getTodos=async()=>{try{const response=await fetch(\"http://localhost:2000/todos\");const jsonData=await response.json();setTodos(jsonData);}catch(err){console.error(err.message);}};useEffect(()=>{getTodos();},[]);console.log(todos);return/*#__PURE__*/_jsxs(Fragment,{children:[\"\",/*#__PURE__*/_jsxs(\"table\",{className:\"table mt-5\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Decription\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Edit\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Delete\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:todos.map(todo=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:todo.description}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(EditTodo,{todo:todo})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:()=>deleteTodo(todo.todo_id),children:\"Delete\"})})]},todo.todo_id))})]})]});};export default ListTodos;","map":{"version":3,"names":["React","Fragment","useEffect","useState","EditTodo","jsx","_jsx","jsxs","_jsxs","ListTodos","todos","setTodos","deleteTodo","id","fetch","method","filter","todo","todo_id","err","console","error","message","getTodos","response","jsonData","json","log","children","className","map","description","onClick"],"sources":["/Users/shakibhasan/Documents/task_manager/client/client/src/components/ListTodo.js"],"sourcesContent":["import React,{Fragment,useEffect,useState} from 'react';\n\nimport EditTodo from './EditTodo';\n\nconst ListTodos=()=>{\n\n    const [todos, setTodos]= useState([]);\n\n    //delete todo function\n    const deleteTodo = async (id) =>{\n        try{\n            const deleteTodo = await fetch(`http://localhost:2000/todos/${id}`,{\n            method: \"DELETE\"\n        });\n\n        setTodos(todos.filter(todo => todo.todo_id !==id))\n    }   catch (err){\n        console.error(err.message);\n        }};\n\n    //\n    const getTodos= async () =>{\n        try{\n            const response =await fetch(\"http://localhost:2000/todos\")\n            const jsonData =await response.json()\n            setTodos(jsonData);\n        }\n        catch(err){\n            console.error(err.message);\n        }\n    };\n    useEffect(()=>{\n        getTodos();\n    },[]);\n    console.log(todos);\n    return (\n    <Fragment>\n        {\"\"}\n        <table className='table mt-5'>\n            <thead>\n                <tr>\n                    <th>Decription</th>\n                    <th>Edit</th>\n                    <th>Delete</th>\n                </tr>\n            </thead>\n            <tbody>\n                {/* \n                <tr>\n                    <td>John</td>\n                    <td>Doe</td>\n                    <td>john@example.com</td>\n                </tr>\n                <tr>\n                    <td>John</td>\n                    <td>Doe</td>\n                    <td>john@example.com</td>\n                </tr>*/}\n                {todos.map(todo =>(\n                    <tr key={todo.todo_id}>\n                        <td>{todo.description}</td>\n                        <td>\n                            <EditTodo todo={todo} />\n                        </td>\n                        <td>\n                            <button className='btn btn-danger' onClick={()=> deleteTodo(todo.todo_id)}>Delete</button>\n                        </td>\n                    </tr>\n                ))}\n            </tbody>\n        </table>\n    </Fragment>)\n};\nexport default ListTodos;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAEC,QAAQ,CAACC,SAAS,CAACC,QAAQ,KAAO,OAAO,CAEvD,MAAO,CAAAC,QAAQ,KAAM,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElC,KAAM,CAAAC,SAAS,CAACA,CAAA,GAAI,CAEhB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAER,QAAQ,CAAC,EAAE,CAAC,CAErC;AACA,KAAM,CAAAS,UAAU,CAAG,KAAO,CAAAC,EAAE,EAAI,CAC5B,GAAG,CACC,KAAM,CAAAD,UAAU,CAAG,KAAM,CAAAE,KAAK,CAAC,+BAA+BD,EAAE,EAAE,CAAC,CACnEE,MAAM,CAAE,QACZ,CAAC,CAAC,CAEFJ,QAAQ,CAACD,KAAK,CAACM,MAAM,CAACC,IAAI,EAAIA,IAAI,CAACC,OAAO,GAAIL,EAAE,CAAC,CAAC,CACtD,CAAI,MAAOM,GAAG,CAAC,CACXC,OAAO,CAACC,KAAK,CAACF,GAAG,CAACG,OAAO,CAAC,CAC1B,CAAC,CAAC,CAEN;AACA,KAAM,CAAAC,QAAQ,CAAE,KAAAA,CAAA,GAAW,CACvB,GAAG,CACC,KAAM,CAAAC,QAAQ,CAAE,KAAM,CAAAV,KAAK,CAAC,6BAA6B,CAAC,CAC1D,KAAM,CAAAW,QAAQ,CAAE,KAAM,CAAAD,QAAQ,CAACE,IAAI,CAAC,CAAC,CACrCf,QAAQ,CAACc,QAAQ,CAAC,CACtB,CACA,MAAMN,GAAG,CAAC,CACNC,OAAO,CAACC,KAAK,CAACF,GAAG,CAACG,OAAO,CAAC,CAC9B,CACJ,CAAC,CACDpB,SAAS,CAAC,IAAI,CACVqB,QAAQ,CAAC,CAAC,CACd,CAAC,CAAC,EAAE,CAAC,CACLH,OAAO,CAACO,GAAG,CAACjB,KAAK,CAAC,CAClB,mBACAF,KAAA,CAACP,QAAQ,EAAA2B,QAAA,EACJ,EAAE,cACHpB,KAAA,UAAOqB,SAAS,CAAC,YAAY,CAAAD,QAAA,eACzBtB,IAAA,UAAAsB,QAAA,cACIpB,KAAA,OAAAoB,QAAA,eACItB,IAAA,OAAAsB,QAAA,CAAI,YAAU,CAAI,CAAC,cACnBtB,IAAA,OAAAsB,QAAA,CAAI,MAAI,CAAI,CAAC,cACbtB,IAAA,OAAAsB,QAAA,CAAI,QAAM,CAAI,CAAC,EACf,CAAC,CACF,CAAC,cACRtB,IAAA,UAAAsB,QAAA,CAYKlB,KAAK,CAACoB,GAAG,CAACb,IAAI,eACXT,KAAA,OAAAoB,QAAA,eACItB,IAAA,OAAAsB,QAAA,CAAKX,IAAI,CAACc,WAAW,CAAK,CAAC,cAC3BzB,IAAA,OAAAsB,QAAA,cACItB,IAAA,CAACF,QAAQ,EAACa,IAAI,CAAEA,IAAK,CAAE,CAAC,CACxB,CAAC,cACLX,IAAA,OAAAsB,QAAA,cACItB,IAAA,WAAQuB,SAAS,CAAC,gBAAgB,CAACG,OAAO,CAAEA,CAAA,GAAKpB,UAAU,CAACK,IAAI,CAACC,OAAO,CAAE,CAAAU,QAAA,CAAC,QAAM,CAAQ,CAAC,CAC1F,CAAC,GAPAX,IAAI,CAACC,OAQV,CACP,CAAC,CACC,CAAC,EACL,CAAC,EACF,CAAC,CACf,CAAC,CACD,cAAe,CAAAT,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}